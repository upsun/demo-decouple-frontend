<p align="right">
<a href="https://platform.sh">
   <svg viewBox="0 0 200 40" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M200 0h-33.078v13.06H200V0zM200 28.422h-33.078v4.448H200v-4.448zM200 17.283h-33.078v6.701H200v-6.7zM0 16.222h4.183v2.49a6.21 6.21 0 012.201-2.073 6.06 6.06 0 013.082-.8 6.465 6.465 0 015.017 2.318 9.362 9.362 0 012.062 6.453 9.674 9.674 0 01-2.074 6.604 6.49 6.49 0 01-5.028 2.318c-.881.01-1.753-.18-2.55-.556a8.599 8.599 0 01-2.398-1.912v8.539H.012V16.199L0 16.222zm4.438 8.191a6.523 6.523 0 001.158 4.23 3.477 3.477 0 002.77 1.366 3.243 3.243 0 002.606-1.25 6.477 6.477 0 001.031-4.114 6.152 6.152 0 00-1.066-3.962 3.301 3.301 0 00-2.653-1.287A3.477 3.477 0 005.55 20.66a5.654 5.654 0 00-1.112 3.754zM18.619 33.23V9.78h4.484v23.45h-4.484zM29.544 21.4l-4.066-.73a6.35 6.35 0 012.317-3.637 8.655 8.655 0 014.982-1.159 10.775 10.775 0 014.472.707 4.461 4.461 0 012.074 1.807 9.27 9.27 0 01.603 4.02v5.238c-.027 1.105.046 2.21.22 3.302.17.804.443 1.582.81 2.317H36.52a14.315 14.315 0 01-.428-1.332c-.081-.267-.128-.44-.163-.522a8.11 8.11 0 01-2.456 1.68 7.103 7.103 0 01-2.792.556 5.794 5.794 0 01-4.125-1.425 4.716 4.716 0 01-1.506-3.591c-.017-.901.22-1.789.684-2.561a4.473 4.473 0 011.923-1.726 15.14 15.14 0 013.569-1.043 24.245 24.245 0 004.356-1.159v-.498a2.317 2.317 0 00-.637-1.842 3.835 3.835 0 00-2.41-.556 3.199 3.199 0 00-1.866.475 3.245 3.245 0 00-1.124 1.68zm6.002 3.639c-.58.185-1.483.417-2.734.683a8.343 8.343 0 00-2.445.777 1.876 1.876 0 00-.869 1.587 2.214 2.214 0 00.707 1.634 2.467 2.467 0 001.784.683 3.87 3.87 0 002.317-.8c.512-.36.887-.882 1.066-1.482.15-.72.208-1.456.174-2.19v-.892zM50.77 16.222v3.58H47.7v6.835c-.027.809.005 1.618.093 2.422.06.233.205.435.405.568.22.156.484.237.753.231a5.794 5.794 0 001.808-.44l.382 3.476a8.909 8.909 0 01-3.545.672 5.653 5.653 0 01-2.19-.406 3.174 3.174 0 01-1.425-1.054 4.193 4.193 0 01-.637-1.75 21.903 21.903 0 01-.14-3.162v-7.392h-2.062v-3.58h2.063V12.85l4.507-2.618v5.99h3.07-.012zM52.08 16.222h2.49v-1.275a8.53 8.53 0 01.453-3.198 3.592 3.592 0 011.68-1.714 6.43 6.43 0 013.093-.672c1.274 0 2.54.195 3.754.579l-.602 3.128a8.837 8.837 0 00-2.063-.255 1.84 1.84 0 00-1.402.452 2.618 2.618 0 00-.428 1.75v1.158h3.348v3.476h-3.348v13.58H54.57V19.754H52.08v-3.533zM63.249 24.472a9.177 9.177 0 011.158-4.322 7.589 7.589 0 013.117-3.198 9.268 9.268 0 014.507-1.158 8.457 8.457 0 016.303 2.502 8.63 8.63 0 012.468 6.315 8.736 8.736 0 01-2.48 6.384 8.412 8.412 0 01-6.256 2.537 9.814 9.814 0 01-4.45-1.054 7.219 7.219 0 01-3.22-3.094 10.301 10.301 0 01-1.147-4.912zm4.634.243a5.608 5.608 0 001.159 3.87 3.905 3.905 0 005.897 0 5.688 5.688 0 001.159-3.893 5.573 5.573 0 00-1.159-3.835 3.915 3.915 0 00-5.897 0 5.608 5.608 0 00-1.205 3.846l.046.012zM86.908 33.23h-4.484V16.222h4.16v2.41a7.126 7.126 0 011.923-2.248 3.476 3.476 0 011.934-.545 5.689 5.689 0 012.955.846l-1.39 3.916a3.917 3.917 0 00-2.11-.741 2.491 2.491 0 00-1.598.521c-.53.504-.89 1.16-1.031 1.877a26.716 26.716 0 00-.37 5.689v5.283h.01zM94.74 16.223h4.136v2.317a6.66 6.66 0 015.284-2.7 5.693 5.693 0 012.827.672 5.13 5.13 0 011.958 2.028 7.745 7.745 0 012.41-2.028 5.894 5.894 0 012.757-.672 6.152 6.152 0 013.163.753 4.637 4.637 0 011.935 2.236 9.574 9.574 0 01.463 3.476v10.926h-4.472v-9.698a7.232 7.232 0 00-.463-3.255 2.134 2.134 0 00-1.912-.962 3.06 3.06 0 00-1.773.58 3.173 3.173 0 00-1.158 1.68 12.221 12.221 0 00-.36 3.475v8.11h-4.495v-9.269a12.902 12.902 0 00-.232-3.186 2.027 2.027 0 00-.741-1.077 2.319 2.319 0 00-1.367-.348 3.28 3.28 0 00-1.866.556c-.553.395-.96.96-1.158 1.61a12.013 12.013 0 00-.36 3.477v8.307h-4.483V16.222h-.093zM121.921 33.23v-4.483h4.484v4.483h-4.484zM128.085 28.34l4.507-.683c.133.782.545 1.49 1.159 1.993.721.49 1.585.726 2.456.672a4.434 4.434 0 002.618-.637 1.423 1.423 0 00.591-1.159 1.146 1.146 0 00-.324-.846 3.536 3.536 0 00-1.506-.59c-3.615-.773-5.909-1.503-6.883-2.19a4.374 4.374 0 01-2.016-3.812 4.723 4.723 0 011.738-3.708 8.113 8.113 0 015.4-1.53c1.801-.12 3.6.283 5.178 1.16a5.792 5.792 0 012.318 3.348l-4.229.788a2.61 2.61 0 00-1.031-1.518 3.767 3.767 0 00-2.167-.521 4.864 4.864 0 00-2.537.498 1.06 1.06 0 00-.51.915 1.006 1.006 0 00.452.811 16.863 16.863 0 004.194 1.263c1.794.29 3.503.97 5.005 1.993a4.162 4.162 0 011.402 3.337 5.115 5.115 0 01-1.946 4.009 8.6 8.6 0 01-5.794 1.68 9.45 9.45 0 01-5.491-1.414 6.463 6.463 0 01-2.584-3.858zM150.226 9.78v8.608a6.72 6.72 0 017.983-1.97 4.529 4.529 0 011.877 1.472c.417.595.709 1.27.857 1.981.183 1.114.261 2.243.232 3.372v9.987h-4.495v-8.968a13.572 13.572 0 00-.255-3.383 2.227 2.227 0 00-.904-1.158 2.93 2.93 0 00-1.622-.418 3.685 3.685 0 00-1.993.545 3.103 3.103 0 00-1.286 1.634 9.793 9.793 0 00-.406 3.232v8.516h-4.483V9.78H150.226z" fill="#171719"></path>
</svg>
</a>
</p>

<h1 align="center">[DEMO] How to decouple your Symfony frontend using Next.js on Upsun</h1>

<p align="center">
<strong>Contribute, request a feature, or check out our resources</strong>
<br />
<br />
<a href="https://chat.platform.sh"><strong>Join our Discord community</strong></a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<a href="https://docs.upsun.com"><strong>Documentation</strong></a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<a href="https://devcenter.upsun.com"><strong>DevCenter</strong></a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<a href="https://github.com/upsun/demo-decouple-frontend/issues/new?assignees=&labels=bug&template=bug_report.yml"><strong>Report a bug</strong></a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<a href="https://github.com/upsun/demo-decouple-frontend/issues/new?assignees=&labels=feature+request&template=improvements.yml"><strong>Request a feature</strong></a>
<br /><br />
</p>

<p align="center">
<a href="https://github.com/upsun/demo-decouple-frontend/issues">
<img src="https://img.shields.io/github/issues/upsun/demo-decouple-frontend.svg?style=for-the-badge&labelColor=f4f2f3&color=ffd9d9&label=Issues" alt="Open issues" />
</a>&nbsp&nbsp
<a href="https://github.com/upsun/demo-decouple-frontend/pulls">
<img src="https://img.shields.io/github/issues-pr/upsun/demo-decouple-frontend.svg?style=for-the-badge&labelColor=f4f2f3&color=ffd9d9&label=Pull%20requests" alt="Open PRs" />
</a>&nbsp&nbsp
</p>


<hr>

<p align="center">
<strong>Contents</strong>
<br /><br />
<a href="#about"><strong>About</strong></a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<a href="#getting-started"><strong>Getting started</strong></a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<a href="#migrate"><strong>Migrate</strong></a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<a href="#learn"><strong>Learn</strong></a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<a href="#contribute"><strong>Contribute</strong></a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<br />
</p>
<hr>

> **_DISCLAIMER:_**
> <BR>This is an example codebase on how to decouple a Symfony frontend using Next.js with <a href="https://upsun.com/">Upsun</a>.
> <BR>This repo contains the final result you should obtain following [this blogpost](https://devcenter.upsun.com/posts/sfcon2024-decouple-frontend/).
> <BR>This repo is meant to be maintained by the community.

### Features
- PHP 8.3
- Composer-based build
- NodeJS v22

## Structure

* ``main`` branch contains the starting point of the blogpost: a monolith Symfony application to host on Upsun
* ``decouple-frontend`` branch contains the final result of the blogpost: a Symfony API application as backend and a Next.js application as frontend, displaying the list of blogpost + single page for each of them

### Resources

- [Upsun PHP documentation](https://docs.upsun.com/languages/php.html)


### Contact

This template is a demo application and is not maintained by the Upsun Developer Relations team, but they will be notified of all issues and pull requests you open here.

- **Discord:** If you haven't done so already, you can join Upsun's community on [Discord](https://discord.gg/z2YQzTeZqY) channels and ping the `@devrel_team` with any questions.

### About Upsun

This template has been specifically designed to deploy on Upsun.

<details>
<summary>What is Upsun?</summary><br/>

Upsun is a unified, secure, enterprise-grade platform for building, running and scaling web applications. Weâ€™re the leader in Fleet Ops: Everything you need to manage your fleet of websites and apps is available from the start. Because infrastructure and workflows are handled from the start, apps just work, so teams can focus on what really matters: making faster changes, collaborating confidently, and scaling responsibly. Whether managing a fleet of ten or ten thousand sites and apps, Upsun is the Developer- preferred solution that scales right.

Our key features include:

* **GitOps: Git as the source of truth**

  Every branch becomes a development environment, and nothing can change without a commit.

* **Batteries included: Managed infrastructure**

  [Simple abstraction in YAML](https://docs.upsun.com/configuration/yaml.html) for [committing and configuring infrastructure](https://docs.upsun.com/overview/structure.html), fully managed patch updates, and 24 [runtimes](https://docs.upsun.com/languages.html) & [services](https://docs.upsun.com/configuration/services.html) that can be added with a single line of code.

* **Instant cloning: Branch, merge, repeat**

  [Reusable builds](https://docs.upsun.com/overview/build-deploy.html) and automatically inherited production data provide true staging environments - experiment in isolation, test, then destroy or merge.

* **FleetOps: Fleet management platform**

  Leverage our public API along with custom tools like [Source Operations](https://docs.upsun.com/configuration/app/source-operations.html) and [Activity Scripts](https://docs.upsun.com/integrations/activity.html) to [manage thousands of applications](https://youtu.be/MILHG9OqhmE) - their dependency updates, fresh content, and upstream code.

</details>

<h2 align="center">Contribute</h2>

<h3 align="center">Help us keep top-notch templates!</h3>

Every one of our templates is open source, and they're important resources for users trying to deploy to Upsun for the first time or better understand the platform. They act as getting started guides, but also contain a number of helpful tips and best practices when working with certain languages and frameworks.

See something that's wrong with this template that needs to be fixed? Something in the documentation unclear or missing? Let us know!

<p align="center">
<strong>How to contribute</strong>
<br /><br />
<a href="https://github.com/upsun/demo-decouple-frontend/issues/new?assignees=&labels=bug&template=bug_report.yml"><strong>Report a bug</strong></a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<a href="https://github.com/upsun/demo-decouple-frontend/issues/new?assignees=&labels=feature+request&template=improvements.yml"><strong>Submit a feature request</strong></a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<a href="https://github.com/upsun/demo-decouple-frontend/pulls"><strong>Open a pull request</strong></a>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
<br />
</p>
<br />
<p align="center">
<strong>Need help?</strong>
<p/>
<p align="center">
<a href="https://discord.gg/z2YQzTeZqY"><strong>Join us on Discord</strong></a>
</p>
<br />
<h3 align="center"><strong>Thanks to all of our amazing contributors!</strong></h3>
<br/>
<p align="center">
<a href="https://github.com/upsun/demo-decouple-frontend/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=upsun/demo-decouple-frontend" />
</a>
</p>

<p align="center">
<em>Made with <a href="https://contrib.rocks">contrib.rocks</a></em>
</p>

<br />